require=function t(e,n,i){function o(c,a){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var d=n[c]={exports:{}};e[c][0].call(d.exports,function(t){var n=e[c][1][t];return o(n||t)},d,d.exports,t,e,n,i)}return n[c].exports}for(var r="function"==typeof require&&require,c=0;c<i.length;c++)o(i[c]);return o}({Atk:[function(t,e,n){"use strict";cc._RF.push(e,"c3d2cEbvsZIc5oCprLUUuan","Atk"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.node.type="atk";var e=hjm.atk;dyl.data("atk."+e,this.node),ai.atkFun=this.node.atkFun,hjm[e]=this.node.tool;var n=this.node.tool;this.node.add=function(e,i,o,r){n.parent=i,n.setPosition(t.node);var c=cc.moveBy(.5,o),a=cc.fadeTo(.5,50),s=cc.scaleTo(.5,.5),h=cc.spawn(c,a,s),d=cc.callFunc(function(){n.opacity=0,r(),e()}),u=cc.sequence(h,d);n.runAction(u)},this.node.reset=function(){n.parent=t.node,n.setPosition(0,0),n.opacity=255,n.setScale(1)}}}),cc._RF.pop()},{}],AutoSpr:[function(t,e,n){"use strict";cc._RF.push(e,"d2e99t7LIpD/qpTr0YfsAOt","AutoSpr"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.node.add=function(e){cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){t.node.getComponent(cc.Sprite).spriteFrame=n})}}}),cc._RF.pop()},{}],DataTool:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"112a2yfoDtNQr/wW4ShWKtC","DataTool"),cc.Class({extends:cc.Component,properties:{w:5,h:3,toolLayer:cc.Node,buttonLayer:cc.Node,chooseSpr:cc.Node,dataNode:cc.Node,pool:cc.Node},onLoad:function(){var t=this;this.posArr=this.initPosArr(),this.node.setType=function(e){return t.setType(e)}},touchOn:function(t){var e=t.in.apply(t,i(this.buttonLayer.getChildren()));e&&this[e.name+"On"](t)},chooseTool:function(t){cc.log("chooseTool"),this.chooseSpr.setPosition(t),this.chooseNode=t,this.setData(t.name),hjm[this.type]=t.name},setData:function(t){cc.log("setData"),dyl.data(this.type+"."+t,this.dataNode),this.dataNode.hp=this.dataNode[this.type],hjm[t]=this.dataNode.tool},nextOn:function(){cc.log("nextOn"),this.setPage(this.pageNum+1)},chooseOn:function(t){cc.log("chooseOn");var e=t.in.apply(t,i(this.toolArr));e&&e.active&&this.chooseTool(e)},backOn:function(t){this.node.add(null,-.3)},setType:function(t){cc.log("setType"),this.type=t,this.setArr(hjm[t+"Arr"])},setArr:function(t){cc.log("setArr"),this.arr=t,this.setPage(0)},initTool:function(t,e){cc.log("initTool"),dyl.data(this.type+"."+e,t),hjm[e]=t.tool,t.name=e,e===hjm[this.type]&&(this.chooseNode=t)},setPage:function(t){if(cc.log("setPage"),t<0)return!1;var e=this.w*this.h,n=e*t;if(n>=this.arr.length)return!1;if(this.pageNum=t,n+e>this.arr.length){for(var i=n;i<this.arr.length;i++){var o=this.toolArr[i];o.active=!0,this.initTool(o,this.arr[i])}for(var r=this.arr.length;r<n+e;r++)this.toolArr[r].active=!1}else for(var c=n;c<n+e;c++){var a=this.toolArr[c];a.active=!0,this.initTool(a,this.toolArr[c])}this.chooseTool(this.chooseNode)},initPosArr:function(){var t=this;cc.log("initPosArr");var e=this.w,n=this.h,i=dyl.getSize(this.toolLayer),o=i.x/e,r=i.y/n,c=-o*(e-1)*.5,a=r*(n-1)*.5+this.toolLayer.y,s=[],h=[];dyl.addMap(e,n,function(n){var i=n.x,d=n.y,u=d*e+i;s[u]=cc.p(c+i*o,a-d*r);var l=t.pool.add();l.setPosition(s[u]),l.active=!1,h.push(l)}),this.toolArr=h,this.posArr=s},resetUi:function(){}}),cc._RF.pop()},{}],Data:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"f6d27NtRthJDaN+2QBpRHAI","Data"),cc.Class({extends:cc.Component,properties:{mainDataNode:cc.Node,buttonLayer:cc.Node,toolData:cc.Node},onLoad:function(){this.atkSpr=this.buttonLayer.atk,this.defSpr=this.buttonLayer.def;var t=hjm.atk;hjm[t]=this.atkSpr.tool;var e=hjm.def;hjm[e]=this.defSpr.tool;var n=hjm.heroData;for(var i in n)this.mainDataNode[i]=n[i]},touchOn:function(t){var e=this.buttonLayer.getChildren(),n=t.in.apply(t,i(e));n&&this[n.name+"On"](t)},backOn:function(t){cc.log("data backOn"),this.node.add(null,-.3)},atkOn:function(t){this.toolData.add(null,.3),this.toolData.setType("atk")},defOn:function(t){this.toolData.add(null,.3),this.toolData.setType("def")}}),cc._RF.pop()},{}],Def:[function(t,e,n){"use strict";cc._RF.push(e,"2bcf3DHWSpD1YQ+Yi0dZOzY","Def"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.node.type="def";var e=hjm.def;dyl.data("def."+e,this.node),ai.defFun=this.node.defFun,hjm[e]=this.node.tool;var n=this.node.tool;this.node.add=function(e,i,o,r){n.parent=i,n.setPosition(t.node);var c=cc.moveBy(.5,o),a=cc.fadeTo(.5,50),s=cc.scaleTo(.5,.5),h=cc.spawn(c,a,s),d=cc.callFunc(function(){n.opacity=0,r(),e()}),u=cc.sequence(h,d);n.runAction(u)},this.node.reset=function(){n.parent=t.node,n.setPosition(0,0),n.opacity=255,n.setScale(1)}}}),cc._RF.pop()},{}],DylAd:[function(t,e,n){"use strict";cc._RF.push(e,"f8c18Hs2QVNoY2ruupVy940","DylAd"),cc.Class({extends:cc.Component,properties:{isDebug:!1},onLoad:function(){var t=this.isDebug,e=!1,n=null,i=null;t?setTimeout(function(){e=!0},1e4):(n=anysdk.agentManager,(i=n.getAdsPlugin()).callFuncWithParam("preloadAd")),dyl.__adFun=function(){},dyl.__isLoading=!1;var o=function(){if(t)cc.log("假广告出来了，哈哈哈哈哈");else{var e=anysdk.PluginParam.create("gq4XnooZ4zAyQJPiva3");i.callFuncWithParam("showAd",e)}};dyl.addAd=function(n){n&&(dyl.__adFun=n);var r=null;if(t)r=e;else{var c=anysdk.PluginParam.create("gq4XnooZ4zAyQJPiva3");r=i.callBoolFuncWithParam("couldShowAd",c)}return r?(o(),dyl.__adFun(),!0):!dyl.__isLoading&&(dyl.__isLoading=!0,cc.loader.loadRes("dylLoadingAd",function(t,e){var n=cc.instantiate(e);cc.director.getScene().getChildren()[0].addChild(n)}),!1)}}}),cc._RF.pop()},{}],DylButton:[function(t,e,n){"use strict";cc._RF.push(e,"cd72cG+IilO6qAadQpr/XqC","DylButton");var i=cc.Enum({Null:0,NextScene:1,NextLevel:2,Restart:3,ExitGame:4,Popup:5,Popdown:6});cc.Class({extends:cc.Component,editor:{menu:"dyl/按钮",executeInEditMode:!0},properties:{audio:{default:null,url:cc.AudioClip},touchFun:{default:null,type:cc.Component.EventHandler},clearArr:[cc.String],sceneType:{default:i.Null,type:cc.Enum(i),notify:function(){this._refresh()}},nextScene:{default:"",visible:!1},popEvent:{default:null,type:cc.Component.EventHandler,visible:!1},_flag:!1,_lastStr:"",_inputStr:"",_patch:"",nodeName:{default:"",type:cc.String,notify:function(){this._flag&&(this._flag=!1),this.updateNodeData(),this.changeStr()}}},_refresh:function(){},onEnable:function(){this.myInit()},myInit:function(){var t=this,e=(this.node.color,this.node.getScale());this.node.on("touchstart",function(n){t.node.setScale(1.2*e)}),this.node.on("touchend",function(n){t.node.setScale(e),t.onClick()}),this.node.on("touchcancel",function(n){t.node.setScale(e)})},onClick:function(){var t=this;this.audio&&cc.audioEngine.play(this.audio,!1,1),this.touchFun&&""!==this.touchFun.handler&&this.touchFun.emit();for(var e=this.clearArr.length-1;e>=0;e--){var n=this.clearArr[e];dyl.save(n,null)}if(this.sceneType===i.NextScene)return cc.director.loadScene(this.nextScene);if(this.sceneType===i.NextLevel){var o=cc.director.getScene().name,r=o.replace(/[^0-9]/gi,""),c=o.split(r);if(1===c.length)return cc.error("这个关卡命名有问题，不是只有一个数字");r=Number(r)+1;var a=c[0]+String(r)+c[1];return cc.director.loadScene(a)}if(this.sceneType===i.ExitGame){if(cc.sys.isMobile)return cc.director.end();if(cc.sys.isBrowser)return window.opener=null,window.open("","_self"),void window.close();cc.sys.isNative}else{if(this.sceneType===i.Restart)return cc.director.loadScene(cc.director.getScene().name);if(this.sceneType===i.Popup){if(""===this.nodeName)return cc.warn("按钮弹窗节点为空");var s="_"+this.nodeName.replace(" ",""),h=hjm[s];h.stopAllActions(),h.active=!0,h.setScale(2),h.opacity=0;var d=cc.callFunc(function(){t.popEvent&&""!==t.popEvent.handler&&t.popEvent.emit()}),u=cc.fadeTo(.3,255),l=cc.scaleTo(.3,1);h.runAction(cc.sequence(d,cc.spawn(u,l)))}else if(this.sceneType===i.Popdown){var f=this.popNode;f.stopAllActions(),f.active=!0,f.setScale(1),f.opacity=255;var p=cc.callFunc(function(){t.popEvent&&""!==t.popEvent.handler&&t.popEvent.emit(),f.active=!1}),g=cc.fadeTo(.3,0),v=cc.scaleTo(.3,2);f.runAction(cc.sequence(cc.spawn(g,v),p))}}},nextStr:function(){if(""===this._inputStr)return this.setNodeName("");for(var t=this._inputStr+this._patch,e=this.getNodeNameArr,n="",i=0,o=e.length-1;o>=0;o--){var r=e[o].split(this._inputStr);if(r.length>1&&""===r[0]&&e[o]===t){i=o;break}}for(var c=0;c<e.length;c++){var a=(c+i+1)%e.length,s=e[a].split(this._inputStr);if(s.length>1&&""===s[0]){n=e[a];break}}this._patch=n.slice(this._inputStr.length);var h=this._inputStr+" "+this._patch;this._lastStr=h,this.setNodeName(h)},changeStr:function(){var t=this._lastStr,e=this.nodeName;if(e.length>t.length){var n=e.slice(t.length);if(" "===n)return this.nextStr();for(var i=this._inputStr+n,o=!1;;){if("string"==typeof(o=this.getPatch(i)))break;i=i.slice(0,i.length-1)}this._inputStr=i,this._patch=o;var r=i+" "+o;" "===r&&(r=""),this._lastStr=r,this.setNodeName(r)}else if(e.length<t.length){var c=t.length-e.length,a=this._inputStr;if(c>=a.length)return this._inputStr="",this._lastStr="",void this.setNodeName("");var s=!1;for(a=this._inputStr.slice(0,this._inputStr.length-c);;){if("string"==typeof(s=this.getPatch(a)))break;a=a.slice(0,a.length-1)}this._inputStr=a,this._patch=s;var h=a+" "+s;" "===h&&(h=""),this._lastStr=h,this.setNodeName(h)}},setNodeName:function(t){this._flag=!0,this.nodeName=t,this._flag=!1},getPatch:function(t){var e=this.getNodeNameArr;if(""===t)return"";for(var n=0;n<e.length;n++){var i=e[n],o=i.split(t);if(o.length>1&&""===o[0])return i.slice(t.length)}return!1},updateNodeData:function(){var t=[];this.getNodeNameArr=t}}),cc._RF.pop()},{}],DylEndgame:[function(t,e,n){"use strict";cc._RF.push(e,"d1499DVhP9AlaMO5CVELQT4","DylEndgame"),cc.Class({extends:cc.Component,editor:{menu:"dyl/结束画面"},properties:{stateNodeArr:[cc.Node]},__preload:function(){var t=this;this.node.add=function(e){return t.onClick(e)};for(var e=this.stateNodeArr,n=e.length-1;n>=0;n--)this[e[n].name]=e[n],e[n].active=!1},onClick:function(t){t&&(this[t].active=!0);var e=this.node;e.stopAllActions(),e.active=!0,e.setScale(2),e.opacity=0;var n=cc.fadeTo(.3,255),i=cc.scaleTo(.3,1);e.runAction(cc.spawn(n,i))}}),cc._RF.pop()},{}],DylHpLayer:[function(t,e,n){"use strict";cc._RF.push(e,"7f4feWgE7pLNo/IfC8vBSH5","DylHpLayer"),cc.Class({extends:cc.Component,editor:{menu:"dyl/飙血"},__preload:function(){this.initHpLayer()},initHpLayer:function(){var t=this.node,e=this.node.getChildren()[0];e.__lab=e.getChildren()[0].getComponent(cc.Label),e.active=!1;var n=[],i=[];i.push(e),e.del=function(){this.active=!1,i.push(this);var t=this.__poolId;n[t]=n[n.length-1],n[t].__poolId=t,n.length=n.length-1,this.__poolId=null};var o=function(){var e=null;return i.length<1?(cc.log("delPool < 1"),(e=cc.instantiate(n[0])).parent=t,e.__lab=e.getChildren()[0].getComponent(cc.Label),e.del=function(){this.active=!1,i.push(this);var t=this.__poolId;n[t]=n[n.length-1],n[t].__poolId=t,n.length=n.length-1,this.__poolId=null}):(cc.log("delPool > 0"),e=i[i.length-1],i.length=i.length-1,e.active=!0),e.__poolId=n.length,n.push(e),cc.log("delPool",e),e};this.node.add=function(t,e){e=Math.floor(e);var n=o();n.setScale(0),n.stopAllActions(),n.setPosition(t),n.__lab.string=String(e);var i=cc.scaleTo(.1,1.15),r=cc.scaleTo(.3,1),c=cc.callFunc(function(){n.del()}),a=cc.sequence(i,r,c);n.runAction(a)}}}),cc._RF.pop()},{}],DylLab:[function(t,e,n){"use strict";cc._RF.push(e,"c1eaa+MGhdOJKV/CWWREtED","DylLab"),cc.Class({extends:cc.Component,editor:{menu:"dyl/文字"},properties:{},__preload:function(){this.initLab()},initLab:function(){for(var t=this,e=this.node.getChildren(),n=e.length-1;n>=0;n--){(function(){var i=e[n],o=i.name;if(!i.getComponent(cc.Label))return t.node[o]=i,"continue";t.node["__lab"+o]=i.getComponent(cc.Label),void 0!==t.node[o]?t.node["__"+o]=t.node[o]:t.node["__"+o]=t.node["__lab"+o].string,Object.defineProperty(t.node,o,{get:function(){return this["__"+o]},set:function(t){if("number"==typeof t&&this["__"+o]!==t){var e=this["__lab"+o].node;e.scaleChangeId=e.scaleChangeId?e.scaleChangeId+1:1,e.setScale(1.2),setTimeout(function(){e.scaleChangeId--,e.scaleChangeId||cc.isValid(e)&&e.setScale(1)},100)}this["__"+o]=t,this["__lab"+o].string=String(this["__"+o])}}),t.node[o]=t.node["__"+o]})()}}}),cc._RF.pop()},{}],DylLoadingUi:[function(t,e,n){"use strict";cc._RF.push(e,"b2b92Awb9JAjqbMWGovc2so","DylLoadingUi"),cc.Class({extends:cc.Component,properties:{d:150,cd:2,h:400},onLoad:function(){for(var t=this.node.getChildByName("arr").getChildren(),e=.5*-(t.length-1)*this.d,n=t.length-1;n>=0;n--)t[n].x=n*this.d+e;this.nodeArr=t,this.r=0,this.initTouch()},initTouch:function(){var t=this;this.node.on("touchstart",function(){t.node.destroy(),dyl.__isLoading=!1})},update:function(t){this.r=this.r+t/this.cd;for(var e=this.nodeArr.length-1;e>=0;e--){this.nodeArr[e];var n=this.r+e*(8/this.nodeArr.length);this.nodeArr[e].y=Math.sin(n)*this.h}dyl.addAd()&&(this.node.active=!1,this.node.destroy(),dyl.__isLoading=!1)}}),cc._RF.pop()},{}],DylNode:[function(t,e,n){"use strict";cc._RF.push(e,"7ffeeunfEhCmYqqOs/QwwmS","DylNode");var i=cc.Enum({Null:0,SmallBig:1,Red:2,Shake:3}),o=cc.Class({name:"LoadData",properties:{path:"",loadArrName:"",parent:cc.Node,callBack:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler}}});cc.Class({extends:cc.Component,editor:{menu:"dyl/多功能",executeInEditMode:!0},properties:{touch:"",isPhysics:{default:!1,notify:function(){this._refresh()}},isShowDebug:{default:!1,visible:!1},gravity:{default:cc.p(0,-320),visible:!1},isLoad:{default:!1,notify:function(){this._refresh()},visible:!1},loadDataArr:{default:[],type:o,visible:!1,notify:function(){for(var t=0;t<this.loadDataArr.length;t++){var e=this.loadDataArr[t].callBack;e.target||(e.target=this.node)}}},loadDataCallBack:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler,visible:!1}},_refresh:function(){},__preload:function(){this.myInit()},emitCallBack:function(t,e){var n=t.target.getComponent(t.component);n&&n[t.handler]&&n[t.handler](e)},onEnable:function(){},initPhysics:function(){this.isPhysics&&(cc.director.getPhysicsManager().enabled=!0,this.isShowDebug?cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit:cc.director.getPhysicsManager().debugDrawFlags=0,cc.director.getPhysicsManager().gravity=this.gravity)},myInit:function(){this.isLoad&&this.setLoad(),this.initPhysics(),""!==this.touch&&this.setTouch()},loadArr:function(t,e,n,i,o){var r=this,c=dyl[e],a=[];if(0!==c.length)for(var s=c.length,h=c.length-1;h>=0;h--)!function(e){var h=c[e];""!==t&&(h=t+"/"+h),cc.loader.loadRes(h,function(t,c){var h=cc.instantiate(c);a[e]=h,h.parent=n,0==--s&&(r.emitCallBack(i,a),o())})}(h);else this.emitCallBack(i,a)},setLoad:function(){for(var t=this,e=this.loadDataArr.length,n=0;n<this.loadDataArr.length;n++){var i=this.loadDataArr[n],o=i.path,r=i.loadArrName,c=i.parent,a=i.callBack;this.loadArr(o,r,c,a,function(){0===--e&&t.emitCallBack(t.loadDataCallBack,null)})}},onDestroy:function(){var t=this.__loadData;for(var e in t)cc.loader.releaseRes(e)},bindNode:function(t){"_"===t.name[0]&&(this.node[t.name]=t);for(var e=t.getChildren(),n=e.length-1;n>=0;n--)this.bindNode(e[n])},setTouch:function(){var t=this.node;this.node.touch||(this.node.touch="touch");var e=this.node.getComponent(this.touch),n=this.node.touch,i=function(e){var n=e.getLocation();n=cc.p(t.convertToNodeSpace(n));var i=t.getContentSize(),o=[i.width,i.height],r=o[0],c=o[1],a=[r/2,c/2];return r=a[0],c=a[1],n.subSelf(cc.p(r,c)),n.in=function(){for(var t=this.x,e=this.y,n=arguments.length,i=0;i<n;i++)if(function(n){if(!n)return null;var i=[(n=n.node?n.node:n).x,n.y],o=i[0],r=i[1],c=n.getContentSize(),a=[c.width,c.height],s=a[0],h=a[1],d=[s/2,h/2];return s=d[0],h=d[1],s=Math.abs(n.scaleX*s),h=Math.abs(n.scaleY*h),t>=o-s&&t<o+s&&e>=r-h&&e<r+h}(arguments[i]))return arguments[i];return null},n},o={};this.node.on("touchstart",function(r){if(!t.touch)return o=null,null;n=t.touch;var c=i(r);o=e[t.touch+"On"]?e[t.touch+"On"](c):{}}),this.node.on("touchmove",function(r){if(!o)return null;if(n!==t.touch)return null;var c=i(r);o=e[t.touch+"Move"]?e[t.touch+"Move"](c,o):{}},this),this.node.on("touchend",function(r){if(!o)return null;if(n!==t.touch)return null;var c=i(r);o=e[t.touch+"End"]?e[t.touch+"Up"](c,o):e[t.touch+"Up"]?e[t.touch+"Up"](c,o):{}},this),this.node.on("touchcancel",function(r){if(!o)return null;if(n!==t.touch)return null;var c=i(r);o=e[t.touch+"End"]?e[t.touch+"Up"](c,o):e[t.touch+"Out"]?e[t.touch+"Out"](c,o):{}},this)},setRun:function(){var t=this;this.node.run=function(){for(var e=function(){},n=arguments[0],i=function(t,e){return function(){t(),e()}},o=function(e,n){return function(){t.node.js[e](),n()}},r=function(t,e){return function(){var n=t;n.push(function(){return null});for(var i=n.length,o=function(){--i<=0&&e()},r=0;r<n.length;r++)h(n[r],function(){o()})()}},c=function(t,e){return function(){var n=t.node;n.node&&(n=n.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var i=cc.callFunc(function(){e()}),o=cc.sequence(t,i);n.runAction(o)}},a=function(t,e){return function(){var i=n;i.node&&(i=i.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var o=cc.callFunc(e),r=cc.sequence(t,o);i.runAction(r)}},s=function(t,e){return function(){var i=n;i.node&&(i=i.node);var o=cc.delayTime(t),r=cc.callFunc(e),c=cc.sequence(o,r);i.runAction(c)}},h=function(t,e){return"function"==typeof t?i(t,e):"number"==typeof t?s(t,e):"string"==typeof t?o(t,e):Array.isArray(t)?r(t,e):t.node?c(t,e):a(t,e)},d=arguments.length-1;d>0;d--){var u=arguments[d];e=h(u,e)}e()}},setRand:function(){var t=this.rand;this.node.rand=function(e){var n=(t=(30853*t+253)%4671341)/4671341;return e?Math.floor(n*e):n},this.node.rand.set=function(e){t=e}},setAct:function(){var t=this,e=this.node.getScale(),n=this.node.color,o=n.r,r=n.g,c=n.b,a=cc.color(o,r,c),s=null,h=0;this.node.act=function(){if(t.act===i.SmallBig){s&&(t.node.stopAction(s),t.node.setScale(e));var n=cc.scaleTo(.2,1.2*e);n.easing(cc.easeQuadraticActionInOut());var o=cc.scaleTo(.2,1*e);o.easing(cc.easeQuadraticActionInOut());var r=cc.callFunc(function(){s=null}),c=cc.sequence(n,o,r);s=c,t.node.runAction(c)}else t.act===i.Red?(h++,t.node.color=cc.color(255,0,0),setTimeout(function(){--h||cc.isValid(t.node)&&(t.node.color=a)},60)):(t.act,i.Shake)}}}),cc._RF.pop()},{}],DylPool:[function(t,e,n){"use strict";cc._RF.push(e,"34f084lYpFNQo1fsLe3Vr4s","DylPool"),cc.Class({extends:cc.Component,editor:{menu:"dyl/对象池"},properties:{},__preload:function(){this.initPool()},initPool:function(){var t=this.node.getChildren()[0];t.active=!1;var e=[],n=[];n.push(t),t.del=function(){this.active=!1,n.push(this);var t=this.__poolId;e[t]=e[e.length-1],e[t].__poolId=t,e.length=e.length-1,this.__poolId=null},this.node.add=function(){var t=null;return n.length<1?((t=cc.instantiate(e[0])).parent=this,t.del=function(){this.active=!1,n.push(this);var t=this.__poolId;e[t]=e[e.length-1],e[t].__poolId=t,e.length=e.length-1,this.__poolId=null}):(t=n[n.length-1],n.length=n.length-1,t.active=!0),t.__poolId=e.length,e.push(t),t},this.node.pool=e}}),cc._RF.pop()},{}],DylPre:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"e36feKSDspDmpAHe4oZik+/","DylPre"),window.initDylFun=function(t){cc.log("initDylFun",t),window.dyl=window.dyl||{},window.dyl.__debug={},Object.defineProperty(dyl,"debug",{get:function(){return this.__debug.default},set:function(t){var e=t.split(" ");this.__debug[e[0]]=e[e.length-1],this.__debug.default=e[e.length-1],cc.log("scene name = ",cc.director.getScene().name),cc.director.loadScene(cc.director.getScene().name)}}),dyl.getSize=function(t){var e=(t=t.node?t.node:t).getContentSize(),n=e.width,i=e.height;return cc.p(n,i)},dyl.addMap=function(t,e,n){for(var i=[],o=0;o<e;o++){for(var r=[],c=0;c<t;c++){var a=n?n(cc.p(c,o)):null;r.push(a)}i.push(r)}return i.w=t,i.h=e,i.get=function(t,e){return!!t&&(!(t.x<0||t.y<0||t.x>=this.w||t.y>=this.h)&&(e&&this[t.y][t.x]?this[t.y][t.x][e]:this[t.y][t.x]))},i.set=function(t,e){if(!t)return!1;if(t.x<0||t.y<0||t.x>=this.w||t.y>=this.h)return cc.warn("p不在地图上"),!1;var n=i[t.y][t.x];return i[t.y][t.x]=e,n},i.find=function(t){for(var e=0;e<this.h;e++)for(var n=0;n<this.w;n++)if(this[e][n]===t)return cc.p(n,e);return!1},i.run=function(t){for(var e=[],n=0;n<this.h;n++)for(var i=0;i<this.w;i++){var o=t(cc.p(i,n));(o||0===o)&&e.push(o)}return e},i},dyl.addMapLayer=function(t,e,n){var i=(1-t)*n/2,o=(1-e)*n/2,r=cc.p(i,o),c=this.addMap(t,e,function(t){return r.add(t.mul(n))});c.ori=r.sub(cc.p(n/2,n/2)),c.d=n;var a=function(t){var e=c.w*c.d/2,n=c.h*c.d/2;return t.x>=-e&&t.y>=-n&&t.x<e&&t.y<n};return c.find=function(t){return!!a(t)&&((t=cc.p(t.x,t.y)).subSelf(this.ori),t.mulSelf(1/n),t.x=Math.floor(t.x),t.y=Math.floor(t.y),t)},c};var e=23;dyl.setRand=function(t){cc.log("seed",t),e=t},dyl.rand=function(t){"number"!=typeof this.__randNum&&(this.__randNum=1);var n=(e=(59341*e+6541)%9987617)/9987617;return t?Math.floor(n*t):n};var n=function(e){e=String(e);var n=t.enc.Utf8.parse("woaihejiamin"),i=t.enc.Utf8.parse("nihaijidewoma"),o=t.AES.encrypt(e,n,{iv:i,mode:t.mode.CBC,padding:t.pad.Pkcs7});return t.enc.Base64.stringify(o.ciphertext)},o=function(e){var n=t.enc.Utf8.parse("woaihejiamin"),i=t.enc.Utf8.parse("nihaijidewoma"),o=t.AES.decrypt(e,n,{iv:i,mode:t.mode.CBC,padding:t.pad.Pkcs7}).toString(t.enc.Utf8).toString(),r=parseInt(o);return(0==r||r)&&(o=r),o};dyl.save=function(t,e){if(0===e||e)if("_"===t[0]){var i=JSON.stringify(e);cc.sys.localStorage.setItem(t,n(i))}else cc.sys.localStorage.setItem(t,n(e));else cc.sys.localStorage.removeItem(t)},dyl.read=function(t){if("_"===t[0]){var e=cc.sys.localStorage.getItem(t);if(!e)return e;var n=o(e);return JSON.parse(n)}var i=cc.sys.localStorage.getItem(t);return i?o(i):i},dyl.key=function(t){var e={},n={};t.dir&&(t.w=function(e){return t.dir(e,cc.p(0,1))},t.s=function(e){return t.dir(e,cc.p(0,-1))},t.a=function(e){return t.dir(e,cc.p(-1,0))},t.d=function(e){return t.dir(e,cc.p(1,0))},t.up=function(e){return t.dir(e,cc.p(0,1))},t.down=function(e){return t.dir(e,cc.p(0,-1))},t.left=function(e){return t.dir(e,cc.p(-1,0))},t.right=function(e){return t.dir(e,cc.p(1,0))}),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(i,o){for(var r in t)if(i===cc.KEY[r])return void(e[r]===n[r]&&(t[r](!0),e[r]=!e[r]))},onKeyReleased:function(i,o){for(var r in t)if(i===cc.KEY[r])return t[r](!1),void(n[r]=e[r])}},cc.director.getScene().getChildren()[0])},dyl.keyOn=function(t){var e={},n={};t.dir&&(t.w=function(){return t.dir(cc.p(0,1))},t.s=function(){return t.dir(cc.p(0,-1))},t.a=function(){return t.dir(cc.p(-1,0))},t.d=function(){return t.dir(cc.p(1,0))},t.up=function(){return t.dir(cc.p(0,1))},t.down=function(){return t.dir(cc.p(0,-1))},t.left=function(){return t.dir(cc.p(-1,0))},t.right=function(){return t.dir(cc.p(1,0))}),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(i,o){for(var r in t)if(i===cc.KEY[r])return void(e[r]===n[r]&&(t[r](),e[r]=!e[r]))},onKeyReleased:function(i,o){for(var r in t)if(i===cc.KEY[r])return void(n[r]=e[r])}},cc.director.getScene().getChildren()[0])},dyl.keyUp=function(t){var e={},n={};t.dir&&(t.w=function(){return t.dir(cc.p(0,1))},t.s=function(){return t.dir(cc.p(0,-1))},t.a=function(){return t.dir(cc.p(-1,0))},t.d=function(){return t.dir(cc.p(1,0))},t.up=function(){return t.dir(cc.p(0,1))},t.down=function(){return t.dir(cc.p(0,-1))},t.left=function(){return t.dir(cc.p(-1,0))},t.right=function(){return t.dir(cc.p(1,0))}),cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(i,o){for(var r in t)if(i===cc.KEY[r])return void(e[r]===n[r]&&(e[r]=!e[r]))},onKeyReleased:function(i,o){for(var r in t)if(i===cc.KEY[r])return t[r](),void(n[r]=e[r])}},cc.director.getScene().getChildren()[0])},dyl.addDirArr=function(){var t=[cc.p(0,1),cc.p(0,-1),cc.p(1,0),cc.p(-1,0)];return t.sort(function(){return.5-dyl.rand()}),t},dyl.run=function(){var t=this,e=function(){},n=arguments[0],i=0;n.parent&&n.getChildren?i=0:(n=cc.director.getScene().getChildren()[0],i=-1);for(var o=function(t,e){return function(){t(),e()}},r=function(e,n){return function(){t.node.js[e](),n()}},c=function(t,e){return function(){var n=t;n.push(function(){return null});for(var i=n.length,o=function(){--i<=0&&e()},r=0;r<n.length;r++)d(n[r],function(){o()})()}},a=function(t,e){return function(){var n=t.node;n.node&&(n=n.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var i=cc.callFunc(function(){e()}),o=cc.sequence(t,i);n.runAction(o)}},s=function(t,e){return function(){var i=n;i.node&&(i=i.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var o=cc.callFunc(e),r=cc.sequence(t,o);i.runAction(r)}},h=function(t,e){return function(){var i=n;i.node&&(i=i.node);var o=cc.delayTime(t),r=cc.callFunc(e),c=cc.sequence(o,r);i.runAction(c)}},d=function(t,e){return"function"==typeof t?o(t,e):"number"==typeof t?h(t,e):"string"==typeof t?r(t,e):Array.isArray(t)?c(t,e):t.node?a(t,e):s(t,e)},u=arguments.length-1;u>i;u--){var l=arguments[u];e=d(l,e)}e()},dyl.data=function(t,e){var n=t.split("."),i=dyl._data[n[0]][n[1]];if(!i)return cc.error("没有这个数据",t);for(var o in i)"_data"!==o&&(e[o]=i[o]);return i._data},dyl.process=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=0,r=[],c=e,a=null,s=function(){var t=0;!function e(){var n=r[t++];if(!n)return r.length=0,a();var o=n.childJs,c=n.name,s=n.arrr;o[c].apply(o,[e].concat(i(s)))}()},h=function(){if(r.length>0)return s();var e=c[o++];if(e){if("string"==typeof e)return t[e](a);for(var n in e){var i=t[n](a);if(!(c=e[n][i]))return;o=0,a()}}},d=function(t,e,n){r.push({childJs:t,name:e,arrr:n})};a=function(t,e){if(t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];d(t,e,i)}else h()};for(var u in n)a[u]=n[u];a()}},window.initHjmDataFun&&window.initHjmFun&&window.iscryptoJS&&(cc.log("init dyl"),window.initDylFun(window.isCryptoJS),window.initHjmFun(),window.initHjmDataFun()),cc._RF.pop()},{}],DylTileMap:[function(t,e,n){"use strict";cc._RF.push(e,"7b877KCI9xM9Iv8hDcLvFg0","DylTileMap"),cc.Class({extends:cc.Component,editor:{menu:"dyl/瓦块地图"},properties:{},__preload:function(){this.initTileMap()},initTileMap:function(){var t=this.node.getComponent(cc.TiledMap),e=t.getMapSize(),n=t.getTileSize().width;this.node.map=dyl.addMap(e.width,e.height),this.node.posMap=dyl.addMapLayer(e.width,e.height,n),this.node.add=function(i,o){var r=node.getChildByName(i).getComponent(cc.TiledLayer);if(r){for(var c=r.getLayerSize(),a=r.getMapTileSize().width,s=c.width-1;s>=0;s--)for(var h=c.height-1;h>=0;h--){var d=r.getTileGIDAt(s,c.height-h-1);o(cc.p(s,h),d)}return map.d=a,map}for(var u=(r=t.getObjectGroup(i)).getObjects(),l=u.length-1;l>=0;l--){var f=u[l].x/n,p=u[l].y/n;o(cc.p(f,e.height-p-1),u[l].name)}}}}),cc._RF.pop()},{}],DylWindow:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"f1099pPj+FP3oIXYJMx8XLx","DylWindow");var o=cc.Class({name:"NodeData",properties:{id:"",node:cc.Node,p:cc.p(0,0),rotation:0,scaleX:1,scaleY:1,anchorX:.5,anchorY:.5,height:0,width:0,color:cc.color(255,255,255),opacity:255,skewX:0,skewY:0,active:!0,lab:""}}),r=cc.Class({name:"NodeDataArr",properties:{arr:[o]}});cc.Class({extends:cc.Component,editor:{menu:"dyl/弹窗-保存状态",executeInEditMode:!0},ctor:function(){Object.defineProperty(this,"node",{get:function(){},set:function(t){delete this.node,this.node=t,this._myInit()},configurable:!0})},properties:{data:{default:[],type:r,visible:!1},showData:{default:"",type:cc.String,notify:function(){for(var t=this._getString(this.showData),e=this.stateArr.length-1;e>=0;e--)if(this._getString(this.stateArr[e])===t)return void this._read(e)}},_stateArr:{default:[],type:cc.String},stateArr:{default:[],type:cc.String,notify:function(){for(var t,e=this._stateArr.length-1;e>=0;e--)this._stateArr[e]!==this.stateArr[e]&&(" "===this.stateArr[e]&&(this.stateArr[e]=this._stateArr[e]),this._save(e));this._stateArr.length=0,(t=this._stateArr).push.apply(t,i(this.stateArr))}}},_myInit:function(){var t=this;this.node.add=function(e,n){if(!e)return t.myAct(n);e=t._getString(e);for(var i=t.stateArr.length-1;i>=0;i--)if(e===t._getString(t.stateArr[i])){t._read(i);break}t.myAct(n)}},myAct:function(t){var e=this;if(t){this.node.active=!0;var n=this.node.scale,i=this.node.opacity,o=t>0?2:1,r=t>0?0:1,c=this.node;c.stopAllActions(),c.setScale(n*o),c.opacity=i*r;var a=cc.fadeTo(Math.abs(t),i*(1-r)),s=cc.scaleTo(Math.abs(t),n*(3-o)),h=cc.callFunc(function(){e.node.opacity=i,e.node.setScale(n),e.node.active=t>0}),d=cc.sequence(cc.spawn(a,s),h);c.runAction(d)}},_getString:function(t){return t.replace(/\s+/g,"")},_read:function(t){if(""!==this._getString(this.stateArr[t]))for(var e=this.data[t].arr,n=e.length-1;n>=0;n--)if(e[n].node){var i=e[n].node,o=e[n];i.setPosition(o.p),i.rotation=o.rotation,i.scaleX=o.scaleX,i.scaleY=o.scaleY,i.anchorX=o.anchorX,i.anchorY=o.anchorY,i.color=o.color,i.opacity=o.opacity,i.skewX=o.skewX,i.skewY=o.skewY,i.active=o.active;var r=i.getComponent(cc.Label);r&&(r.string=o.lab),"Canvas"===i.name?this.node.getComponent(cc.Canvas).designResolution=cc.size(o.width,o.height):(i.height=o.height,i.width=o.width)}},_save:function(t){this.data[t]=this._getSaveData()},_getSaveData:function(){var t=new r;return t.arr=this._getSaveNodeArr(this.node),t},_getSaveNodeArr:function(t){for(var e=[this._addNodeData(t)],n=t.getChildren(),o=n.length-1;o>=0;o--)e.push.apply(e,i(this._getSaveNodeArr(n[o])));return e},_addNodeData:function(t){var e=new o;e.id=t.name,e.node=t,e.p=cc.p(t),e.rotation=t.rotation,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.anchorX=t.anchorX,e.anchorY=t.anchorY,e.height=t.height,e.width=t.width,e.color=t.color,e.opacity=t.opacity,e.skewX=t.skewX,e.skewY=t.skewY,e.active=t.active;var n=t.getComponent(cc.Label);return n&&(e.lab=n.string),e},onLoad:function(){this.node.on("touchstart",function(){return null})}}),cc._RF.pop()},{}],DylWuli:[function(t,e,n){"use strict";cc._RF.push(e,"74127pcqJhKea7hsJnefXpC","DylWuli"),cc.Class({extends:cc.Component,editor:{menu:"dyl/物理",executeInEditMode:!0},properties:{collisionFun:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler}},__preload:function(){var t=this.node.getComponent(cc.RigidBody);Object.defineProperty(this.node,"v",{get:function(){return t.linearVelocity},set:function(e){t.linearVelocity=e}}),Object.defineProperty(this.node,"f",{get:function(){return t.linearDamping},set:function(e){t.linearDamping=e}}),Object.defineProperty(this.node,"a",{set:function(e){t.applyForceToCenter(e)}}),t.fixedRotation=!0,t.enabledContactListener=!0,""!==this.collisionFun.handler&&(this.collisionComponent=this.collisionFun.target.getComponent(this.collisionFun.component))},onEnable:function(){},onBeginContact:function(t,e,n){this.collisionComponent&&(t.disabled=this.collisionComponent[this.collisionFun.handler](n.node))}}),cc._RF.pop()},{}],En:[function(t,e,n){"use strict";cc._RF.push(e,"a6750XhCvhIq7BxfgoRFFXe","En"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.type="en";var t=this.node.name;dyl.data("enData."+t,this.node)}}),cc._RF.pop()},{}],GameInit:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"2e42cppmihP+5QmCGIouNzt","GameInit"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.touch="stop";var t=hjm.level,e=dyl.data("levelData."+String(t),this).rand;dyl.setRand(e);var n=this.getEnNameArr(t);this.getEnArr(n)},getEnNameArr:function(t){var e={};dyl.data("levelData."+String(t),e);for(var n=[],i=0;i<5;i++){var o=e["en"+String(i)];o&&""!==o&&n.push("role/"+o)}return n},getEnArr:function(t){for(var e=this,n=t.length,i=[],o=function(){--n||(e.initMap(i),e.node.getComponent("GameMain").myStart())},r=t.length-1;r>=0;r--){var c=t[r];cc.loader.loadRes(c,function(t,e){var n=cc.instantiate(e);i.push(n),n.parent=hjm._en,o()})}},getNotArr:function(t){for(var e=[],n=hjm._not.getChildren(),i=0;i<t;i++){var o=n[i];o.active=!0,e.push(o)}this.node.notArr=[];for(var r=t;r<n.length;r++)this.node.notArr.push(n[r]);return e},initMap:function(t){var e=[].concat(i(hjm._me.getChildren())),n=8-e.length-t.length,o=this.getNotArr(n),r=[0].concat(i(e),i(o),i(t));r.sort(function(){return dyl.rand()-.5});var c=0,a=dyl.addMapLayer(3,3,315),s=dyl.addMap(3,3,function(t){var e=c++,n=r[e];return n?(n.setPosition(a.get(t)),r[e]):null});this.node.posMap=a,this.node.map=s}}),cc._RF.pop()},{}],GameMain:[function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"5adb84pawBI3JpJVbHqy//6","GameMain");var r;cc.Class((r={extends:cc.Component,properties:{},start:function(){},myStart:function(){cc.log("myStart"),this.touchData=null,dyl.process(this,["prePk","resetState","myStartEnd"],{})},myStartEnd:function(t){this.node.touch="touch",t()},saveTouch:function(t){this.touchData?(this.touchData,this.touchData=t):(this.touchData="ing",this.play(t))},delTouch:function(){if(this.touchData)if("ing"===this.touchData)this.touchData=null;else{var t=this.touchData;this.touchData="ing",this.play(t)}else;},getAction:function(){var t=0,e=[],n=function n(){var i=t++;if(!(i>=e.length)){var r=e[i],c=r.node,a=r.fun,s=r.arr;a.bind(c).apply(void 0,[n].concat(o(s)))}};return function(t,i){for(var o=arguments.length,r=Array(o>2?o-2:0),c=2;c<o;c++)r[c-2]=arguments[c];if(!t)return n();if(i){var a={node:t,fun:i,arr:r};e.push(a)}}},touchOn:function(t){var e=this.node.posMap.find(t);e&&this.saveTouch(e)},getRunTypeInit:function(t){t.tp}},i(r,"getRunTypeInit",function(t){var e=t.tp,n=this.node.map,i=this.getDir(e);if(!i)return this.delTouch(),null;var o=n.get(e),r=o.type;return o.oriParent=o.parent,o.parent=hjm._top,t.moveNode=o,t.moveType=r,t.dir=i,"atk"!==r&&"def"!==r||(r="not"),r}),i(r,"run",function(t){var e=this,n=t.tp,i=t.dir.add(n),o=cc.moveTo(.2,this.node.posMap.get(i)),r=this.node.map.get(n);dyl.run(r,o,function(){e.node.map.set(n,null),e.node.map.set(i,r),n.x=i.x,n.y=i.y},t)}),i(r,"getAtkDefEn",function(t){var e=t.tp,n=this.node.map,i=dyl.addDirArr();t.enPosArr=[],t.atkFun="notAtk",t.defFun="notDef";for(var o=0;o<4;o++){var r=i[o],c=r.add(e),a=n.get(c,"type");"atk"===a?(t.atkFun=ai.atkFun,t.atkNode=n.get(c),t.atkDir=r.mul(-this.node.posMap.d)):"def"===a?(t.defFun=ai.defFun,t.defNode=n.get(c),t.defDir=r.mul(-this.node.posMap.d)):"en"===a&&t.enPosArr.push(c)}t()}),i(r,"runTool",function(t){var e=t.atkNode,n=t.atkDir,i=t.defNode,o=t.defDir,r=t.moveNode;if(0===t.enPosArr.length)return t();e&&t(e,"add",hjm._top,n,function(){r.atk+=e.atk}),i&&t(i,"add",hjm._top,o,function(){r.def+=i.def}),t()}),i(r,"myAtk",function(t){var e=t.atkFun,n=t.tp,i=t.moveNode,o=t.defFun;i.defFun=o,t(hjm._skill,"add",e,n,this.node.map,this.node.posMap),t()}),i(r,"checkDie",function(t){var e=this,n=!1,i=!1,o=this.node.map;return o.run(function(t){var r=o.get(t);r&&r.hp<=0?e.die(t):(r&&"me"===r.type&&(n=!0),r&&"en"===r.type&&(i=!0))}),n?i?void t():(t.endAns="win",void t()):(t.endAns="lose",void t())}),i(r,"enAtkBack",function(t){for(var e=t.enPosArr,n=(t.tp,e.length-1);n>=0;n--){var i=e[n],o=this.node.map.get(i);t(hjm._skill,"add",o.atkFun,i,this.node.map,this.node.posMap)}return t()}),i(r,"endPlay",function(t){var e=t.tp,n=t.atkNode,i=t.defNode,o=t.endAns,r=this.node.map.get(e);r.parent=r.oriParent,"me"===r.type&&(r.defFun="notDef",r.atkFun="notAtk");var c=this.node.map;c.run(function(t){var e=c.get(t);e&&"not"!==e.type&&(e.atk=e.oriData.atk,e.def=e.oriData.def)}),n&&n.reset(),i&&i.reset(),this.delTouch(),o&&(this.node.touch="end","win"===o&&(hjm.level=hjm.level+1),hjm._end.add(o,.3)),t()}),i(r,"enAtk",function(t){var e=t.tp,n=t.moveNode;t(hjm._skill,"add",n.atkFun,e,this.node.map,this.node.posMap),t()}),i(r,"play",function(t){var e=[{getRunTypeInit:{me:["run","resetState","getAtkDefEn","runTool","myAtk","checkDie","resetState","enAtkBack","checkDie","endPlay","resetState"],en:["run","resetState","enAtk","checkDie","endPlay","resetState"],not:["run","resetState","endPlay","resetState"]}}];dyl.process(this,e,{tp:t})}),i(r,"die",function(t){var e=this.node.notArr,n=e[e.length-1];e.length--,n.active=!0,this.node.map.get(t).active=!1,n.setPosition(this.node.posMap.get(t)),this.node.map.set(t,n)}),i(r,"prePk",function(t){var e=this.node.map;e.run(function(t){var n=e.get(t);n&&"not"!==n.type&&(n.oriData={atk:n.atk,def:n.def})}),t()}),i(r,"resetState",function(t){var e=this,n=this.node.map;n.run(function(i){var o=n.get(i);!o||"me"!==o.type&&"en"!==o.type||t(hjm._skill,"add",o.stateFun,i,e.node.map,e.node.posMap)}),t()}),i(r,"getDir",function(t){var e=this.node.map;if(!e.get(t))return null;for(var n=dyl.addDirArr(),i=0;i<4;i++){var o=n[i],r=o.add(t);if(null===e.get(r))return o}return null}),r)),cc._RF.pop()},{}],GameStart:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"5903c/Lt4dGkb2XlG7fAjl0","GameStart"),cc.Class({extends:cc.Component,properties:{buttonLayer:cc.Node},onLoad:function(){this.say=hjm._say.getComponent(cc.Label),this.read(hjm.level)},touchOn:function(t){var e=this.buttonLayer.getChildren();t.subSelf(this.buttonLayer);var n=t.in.apply(t,i(e));n&&this[n.name+"On"](t)},shopOn:function(t){cc.log("shopOn"),hjm._shop.add(null,.3)},stateOn:function(t){cc.log("stateOn"),hjm._state.add(null,.3)},playOn:function(t){cc.director.loadScene("play")},read:function(t){var e={};dyl.data("card."+String(t),e),"shop"===e.type?this.readShop(e):this.readEn(e)},readShop:function(t){hjm._enCard.active=!1,hjm._shopCard.active=!0,hjm._playOpen.active=!0,hjm._playFight.active=!1,this.say.string=t.chName+": \n        "+t.say},readEn:function(t){hjm._enCard.active=!0,hjm._shopCard.active=!1,hjm._playOpen.active=!1,hjm._playFight.active=!0,this.setSpr(hjm._enCard,"en/"+t.enName),this.say.string=t.chName+": \n        "+t.say},setSpr:function(t,e){cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){t.getComponent(cc.Sprite).spriteFrame=n})}}),cc._RF.pop()},{}],HjmData:[function(t,e,n){"use strict";cc._RF.push(e,"cc882RU1aBK+57Msxp2Tc2h","HjmData"),window.initHjmDataFun=function(){cc.log("initHjmDataFun"),_hjm("level",0),_hjm("coin",50),_hjm("atk","slingshot"),_hjm("atkArr",["slingshot"]),_hjm("atkShopArr",["slingshot","wizard-staff","crossed-swords","trefoil-shuriken","thor-hammer"]),_hjm("def","templar-shield"),_hjm("defArr",["templar-shield"]),_hjm("defShopArr",["templar-shield","black-hand-shield"]),_hjm("heroData",{hp:4,atk:2,def:1})},window.isCryptoJS&&window.initHjmFun&&window.initDylFun&&(cc.log("init hjmData"),window.initDylFun(window.isCryptoJS),window.initHjmFun(),window.initHjmDataFun()),cc._RF.pop()},{}],Me:[function(t,e,n){"use strict";cc._RF.push(e,"647c6UxZXVFwYcLptqSWTa+","Me"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.type="me",this.node.stateFun="notState";var t=hjm.heroData;for(var e in t)this.node[e]=t[e]}}),cc._RF.pop()},{}],Not:[function(t,e,n){"use strict";cc._RF.push(e,"b8c314rDatClLOSHQGNbACI","Not"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.type="not"}}),cc._RF.pop()},{}],Shop:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"8366aDMUz1NsJFGzo0soAWZ","Shop"),cc.Class({extends:cc.Component,properties:{w:5,h:3,toolLayer:cc.Node,buttonLayer:cc.Node,defBg:cc.Node,chooseSpr:cc.Node,dataNode:cc.Node,pool:cc.Node},onLoad:function(){cc.shop=this,this.posArr=this.initPosArr();for(var t={},e=hjm.atkArr,n=hjm.defArr,i=e.length-1;i>=0;i--)t[e[i]]=!0;for(var o=n.length-1;o>=0;o--)t[n[o]]=!0;this.toolTab=t,this.setType("atk")},touchOn:function(t){var e=t.in.apply(t,i(this.buttonLayer.getChildren()));e&&this[e.name+"On"](t)},chooseTool:function(t){cc.log("chooseTool"),t?(this.chooseSpr.setPosition(t),this.chooseNode=t,this.setData(t.name)):(this.chooseSpr.x=-2e3,this.chooseNode=null,this.setData("default"))},setData:function(t){cc.log("setData"),dyl.data(this.type+"."+t,this.dataNode),this.dataNode.hp=this.dataNode[this.type],hjm[t]=this.dataNode.tool},atkOn:function(){cc.log("atkOn"),this.setType("atk")},defOn:function(){cc.log("defOn"),this.setType("def")},nextOn:function(){cc.log("nextOn"),this.setPage(this.pageNum+1)},buyOn:function(){if(cc.log("buyOn"),this.chooseNode){if(this.toolTab[this.chooseNode.name])return;if(this.chooseNode.coin>hjm.coin)return;this.chooseNode.getChildByName("coin").color=cc.color(0,255,0);var t=this.chooseNode.name;this.toolTab[t]=!0,hjm[this.type+"Arr"].push(t),hjm.coin-=this.chooseNode.coin,this.chooseNode.coin="已拥有";for(var e=this.arr.length-1;e>=0;e--){var n=this.arr[e];this.toolTab[n.name]||n.coin>hjm.coin&&(n.getChildByName("coin").color=cc.color(255,0,0))}}},chooseOn:function(t){cc.log("chooseOn");var e=t.in.apply(t,i(this.toolArr));e&&e.active&&this.chooseTool(e)},backOn:function(t){this.node.add(null,-.3)},setType:function(t){cc.log("setType"),this.type=t,this.defBg.active="def"===t,this.setArr(hjm[t+"ShopArr"]),this.chooseTool()},setArr:function(t){cc.log("setArr"),this.arr=t,this.setPage(0)},initTool:function(t,e){cc.log("initTool"),dyl.data(this.type+"."+e,t),hjm[e]=t.tool,t.name=e,this.toolTab[e]?(t.coin="已拥有",t.getChildByName("coin").color=cc.color(0,255,0)):t.coin>hjm.coin?t.getChildByName("coin").color=cc.color(255,0,0):t.getChildByName("coin").color=cc.color(168,80,0)},setPage:function(t){if(cc.log("setPage"),t<0)return!1;var e=this.w*this.h,n=e*t;if(n>=this.arr.length)return!1;if(this.pageNum=t,n+e>this.arr.length){for(var i=n;i<this.arr.length;i++){var o=this.toolArr[i];o.active=!0,this.initTool(o,this.arr[i])}for(var r=this.arr.length;r<n+e;r++)this.toolArr[r].active=!1}else for(var c=n;c<n+e;c++){var a=this.toolArr[c];a.active=!0,this.initTool(a,this.toolArr[c])}this.chooseTool()},initPosArr:function(){var t=this;cc.log("initPosArr");var e=this.w,n=this.h,i=dyl.getSize(this.toolLayer),o=i.x/e,r=i.y/n,c=-o*(e-1)*.5,a=r*(n-1)*.5+this.toolLayer.y,s=[],h=[];dyl.addMap(e,n,function(n){var i=n.x,d=n.y,u=d*e+i;s[u]=cc.p(c+i*o,a-d*r);var l=t.pool.add();l.setPosition(s[u]),l.active=!1,h.push(l)}),this.toolArr=h,this.posArr=s},resetUi:function(){}}),cc._RF.pop()},{}],Skill:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"50a84TrV+NGkZ6U4H4b873g","Skill"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this,e=this;this.node.add=function(n,i,o,r,c){cc.log("skillName",i),"not"!==r.get(o,"type")?("function"!=typeof e[i]&&(cc.warn("没有这个技能",i),n()),t.tp=o,t.map=r,t.posMap=c,e[i](n,o,r,c)):n()}},fun_getQueue:function(){var t=[],e=0,n={};return n.push=function(e){t.push(e)},n.pop=function(){return e>=t.length?null:t[e++]},n},fun_getDirArr:function(){for(var t=this.tp,e=this.map,n="me"===e.get(t).type?"en":"me",i=dyl.addDirArr(),o=[],r=0;r<4;r++){var c=i[r].add(t);e.get(c,"type")===n&&o.push(i[r])}return o},act_notFront:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.tp,o=this.map.get(i),r=cc.moveBy(.3,e.mul(-100*n));r.node=o,r.add=.6;var c=cc.moveBy(.05,e.mul(120*n));return c.node=o,c.add=1.5,[r,c]},act_notBack:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.tp,o=this.map,r=this.posMap,c=o.get(i),a=o.get(t),s=cc.moveBy(.1,e.mul(-20*n));s.node=c;var h=cc.moveBy(.1,e.mul(30*n));h.node=a,h.add=.6;var d=cc.moveTo(.05,r.get(i));d.node=c;var u=cc.moveTo(.05,r.get(t));return u.node=a,[[s,h],[d,u],.3]},act_arrBack:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=[],r=[],c=t.length-1;c>=0;c--){var a=this.act_notBack(t[c],e,n);o.push.apply(o,i(a[0])),r.push.apply(r,i(a[1]))}return[o,r,.3]},act_rotateArrBack:function(t){for(var e=this.tp,n=this.map,i=this.posMap,o=[],r=[],c=t.length-1;c>=0;c--){var a=t[c],s=a.add(e),h=cc.moveBy(.1,a.mul(30));h.node=n.get(s),o.push(h);var d=cc.moveTo(.05,i.get(s));d.node=n.get(s),r.push(d)}return[.2,o,r]},act_rotate:function(t){var e=this.map,n=e.get(t);n.setScale(1.2);var i=cc.rotateTo(.35,720);return i.node=e.get(t),[i,function(){return n.setScale(1)}]},fun_rotate:function(t){for(var e=this.tp,n=(this.map,t.length-1);n>=0;n--)this.fun_atk(t[n].add(e))},fun_atk:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.tp,i=(this.map,this.map.get(n)),o=this.map.get(t),r=0;i.atk*e>o.def&&(r=i.atk*e-o.def),r=Math.floor(r);var c=o.defFun;this[c]?this[c](r,i,o):this.notDef(r,i,o)},fun_arrAtk:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.length-1;n>=0;n--)this.fun_atk(t[n],e)},fun_getLinkArr:function(t){var e=this.map,n=e.get(t,"type"),i=dyl.addMap(e.w,e.h,function(){return!1}),o=this.fun_getQueue();o.push(t);var r=[t];for(i.set(t,!0);;){var c=o.pop();if(!c)break;for(var a=dyl.addDirArr(),s=0;s<4;s++){var h=c.add(a[s]);e.get(h,"type")!==n||i.get(h)||(i.set(h,!0),r.push(h),o.push(h))}}return r},notBackDef:function(t,e,n){cc.log("notBackDef"),t=Math.floor(t),n.hp-=t,e.hp-=1,hjm._hpLayer.add(n,-t),hjm._hpLayer.add(e,-1)},notDef:function(t,e,n){cc.log("notDef"),t=Math.floor(t),n.hp-=t,hjm._hpLayer.add(n,-t)},notAtk:function(t){var e,n=this,o=this.fun_getDirArr()[0];if(!o)return t();var r=o.add(this.tp),c=[].concat(i(this.act_notFront(r,o)),[function(){return n.fun_atk(r)}],i(this.act_notBack(r,o)));(e=dyl).run.apply(e,[this.node].concat(i(c),[t]))},notState:function(t){return t()},friendState:function(t){for(var e=this.tp,n=this.map,i=n.get(e),o=i.type,r=dyl.addDirArr(),c=i.oriData.atk,a=0;a<4;a++){var s=r[a].add(e);n.get(s,"type")===o&&(c+=1)}i.atk=c,t()},bigAtk:function(t){var e,n=this,o=this.tp,r=this.map;if(dyl.rand()>.5)return this.notAtk(t);var c=this.fun_getDirArr()[0];if(!c)return t();var a=c.add(this.tp),s=cc.scaleTo(.1,1.2);s.node=r.get(o);var h=cc.scaleTo(.1,1);h.node=r.get(o);var d=[s].concat(i(this.act_notFront(a,c,1.5)),[function(){return n.fun_atk(a,2)}],i(this.act_notBack(a,c,1.5)),[h]);(e=dyl).run.apply(e,[this.node].concat(i(d),[t]))},twoAtk:function(t){var e=this;this.notAtk(function(){e.notAtk(t)})},electricAtk:function(t){var e,n=this,o=this.fun_getDirArr()[0];if(!o)return t();var r=this.fun_getLinkArr(this.tp.add(o)),c=[].concat(i(this.act_notFront(o.mul(this.tp),o)),[function(){return n.fun_arrAtk(r)}],i(this.act_arrBack(r,o)));(e=dyl).run.apply(e,[this.node].concat(i(c),[t]))},rotateAtk:function(t){var e,n,o=this,r=this.fun_getDirArr();if(r.length<1)return t();var c=0,a=function(){3===++c&&t()},s=this.act_rotateArrBack(r),h=this.act_rotate(this.tp);(e=dyl).run.apply(e,i(s).concat([a])),(n=dyl).run.apply(n,i(h).concat([a])),dyl.run(.25,function(){return o.fun_rotate(r)},a)}}),cc._RF.pop()},{}],Test:[function(t,e,n){"use strict";cc._RF.push(e,"c4a50K91OlGAaW9gyKQyLlp","Test"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;cc.loader.loadRes("atk/wizard",cc.SpriteFrame,function(e,n){var i=t.node.getComponent(cc.Sprite);cc.log(i,n,e),i.spriteFrame=n})}}),cc._RF.pop()},{}],aes:[function(t,e,n){"use strict";cc._RF.push(e,"35240+3DsVEHowgmiCcahth","aes");var i=i||function(t,e){var n={},i=n.lib={},o=function(){},r=i.Base={extend:function(t){o.prototype=this;var e=new o;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var o=0;o<t;o++)e[i+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(i+o)%4*8;else if(65535<n.length)for(o=0;o<t;o+=4)e[i+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new c.init(n,e)}}),a=n.enc={},s=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new c.init(n,e/2)}},h=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new c.init(n,e)}},d=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(h.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return h.parse(unescape(encodeURIComponent(t)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,a=o/(4*r);if(e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*r,o=t.min(4*e,o),e){for(var s=0;s<e;s+=r)this._doProcessBlock(i,s);s=i.splice(0,e),n.sigBytes-=o}return new c.init(s,o)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=u.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new l.HMAC.init(t,n).finalize(e)}}});var l=n.algo={};return n}(Math);!function(){var t=i,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var o=0;o<n;o+=3)for(var r=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;4>c&&o+.75*c<n;c++)t.push(i.charAt(r>>>6*(3-c)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,i=this._map;(o=i.charAt(64))&&-1!=(o=t.indexOf(o))&&(n=o);for(var o=[],r=0,c=0;c<n;c++)if(c%4){var a=i.indexOf(t.charAt(c-1))<<c%4*2,s=i.indexOf(t.charAt(c))>>>6-c%4*2;o[r>>>2]|=(a|s)<<24-r%4*8,r++}return e.create(o,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,i,o,r,c){return((t=t+(e&n|~e&i)+o+c)<<r|t>>>32-r)+e}function n(t,e,n,i,o,r,c){return((t=t+(e&i|n&~i)+o+c)<<r|t>>>32-r)+e}function o(t,e,n,i,o,r,c){return((t=t+(e^n^i)+o+c)<<r|t>>>32-r)+e}function r(t,e,n,i,o,r,c){return((t=t+(n^(e|~i))+o+c)<<r|t>>>32-r)+e}for(var c=i,a=(h=c.lib).WordArray,s=h.Hasher,h=c.algo,d=[],u=0;64>u;u++)d[u]=4294967296*t.abs(t.sin(u+1))|0;h=h.MD5=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(c=0;16>c;c++){s=t[a=i+c];t[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var c=this._hash.words,a=t[i+0],s=t[i+1],h=t[i+2],u=t[i+3],l=t[i+4],f=t[i+5],p=t[i+6],g=t[i+7],v=t[i+8],y=t[i+9],m=t[i+10],_=t[i+11],A=t[i+12],k=t[i+13],D=t[i+14],S=t[i+15],C=c[0],w=c[1],F=c[2],N=c[3],w=r(w=r(w=r(w=r(w=o(w=o(w=o(w=o(w=n(w=n(w=n(w=n(w=e(w=e(w=e(w=e(w,F=e(F,N=e(N,C=e(C,w,F,N,a,7,d[0]),w,F,s,12,d[1]),C,w,h,17,d[2]),N,C,u,22,d[3]),F=e(F,N=e(N,C=e(C,w,F,N,l,7,d[4]),w,F,f,12,d[5]),C,w,p,17,d[6]),N,C,g,22,d[7]),F=e(F,N=e(N,C=e(C,w,F,N,v,7,d[8]),w,F,y,12,d[9]),C,w,m,17,d[10]),N,C,_,22,d[11]),F=e(F,N=e(N,C=e(C,w,F,N,A,7,d[12]),w,F,k,12,d[13]),C,w,D,17,d[14]),N,C,S,22,d[15]),F=n(F,N=n(N,C=n(C,w,F,N,s,5,d[16]),w,F,p,9,d[17]),C,w,_,14,d[18]),N,C,a,20,d[19]),F=n(F,N=n(N,C=n(C,w,F,N,f,5,d[20]),w,F,m,9,d[21]),C,w,S,14,d[22]),N,C,l,20,d[23]),F=n(F,N=n(N,C=n(C,w,F,N,y,5,d[24]),w,F,D,9,d[25]),C,w,u,14,d[26]),N,C,v,20,d[27]),F=n(F,N=n(N,C=n(C,w,F,N,k,5,d[28]),w,F,h,9,d[29]),C,w,g,14,d[30]),N,C,A,20,d[31]),F=o(F,N=o(N,C=o(C,w,F,N,f,4,d[32]),w,F,v,11,d[33]),C,w,_,16,d[34]),N,C,D,23,d[35]),F=o(F,N=o(N,C=o(C,w,F,N,s,4,d[36]),w,F,l,11,d[37]),C,w,g,16,d[38]),N,C,m,23,d[39]),F=o(F,N=o(N,C=o(C,w,F,N,k,4,d[40]),w,F,a,11,d[41]),C,w,u,16,d[42]),N,C,p,23,d[43]),F=o(F,N=o(N,C=o(C,w,F,N,y,4,d[44]),w,F,A,11,d[45]),C,w,S,16,d[46]),N,C,h,23,d[47]),F=r(F,N=r(N,C=r(C,w,F,N,a,6,d[48]),w,F,g,10,d[49]),C,w,D,15,d[50]),N,C,f,21,d[51]),F=r(F,N=r(N,C=r(C,w,F,N,A,6,d[52]),w,F,u,10,d[53]),C,w,m,15,d[54]),N,C,s,21,d[55]),F=r(F,N=r(N,C=r(C,w,F,N,v,6,d[56]),w,F,S,10,d[57]),C,w,p,15,d[58]),N,C,k,21,d[59]),F=r(F,N=r(N,C=r(C,w,F,N,l,6,d[60]),w,F,_,10,d[61]),C,w,h,15,d[62]),N,C,y,21,d[63]);c[0]=c[0]+C|0,c[1]=c[1]+w|0,c[2]=c[2]+F|0,c[3]=c[3]+N|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var r=t.floor(i/4294967296);for(n[15+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,i=0;4>i;i++)o=n[i],n[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return e},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),c.MD5=s._createHelper(h),c.HmacMD5=s._createHmacHelper(h)}(Math),function(){var t=i,e=t.lib,n=e.Base,o=e.WordArray,r=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=(a=this.cfg).hasher.create(),i=o.create(),r=i.words,c=a.keySize,a=a.iterations;r.length<c;){s&&n.update(s);var s=n.update(t).finalize(e);n.reset();for(var h=1;h<a;h++)s=n.finalize(s),n.reset();i.concat(s)}return i.sigBytes=4*c,i}});t.EvpKDF=function(t,e,n){return r.create(n).compute(t,e)}}(),i.lib.Cipher||function(t){var e=(p=i).lib,n=e.Base,o=e.WordArray,r=e.BufferedBlockAlgorithm,c=p.enc.Base64,a=p.algo.EvpKDF,s=e.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?g:f).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?g:f).decrypt(t,e,n,i)}}}});e.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=p.mode={},d=function(t,e,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var o=0;o<n;o++)t[e+o]^=i[o]},u=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;d.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),u.Decryptor=u.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),d.call(this,t,e,i),this._prevBlock=o}}),h=h.CBC=u,u=(p.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=(n=n-t.sigBytes%n)<<24|n<<16|n<<8|n,r=[],c=0;c<n;c+=4)r.push(i);n=o.create(r,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=s.extend({cfg:s.cfg.extend({mode:h,padding:u}),reset:function(){s.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var l=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(p.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?o.create([1398893684,1701076831]).concat(t).concat(e):e).toString(c)},parse:function(t){var e=(t=c.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=o.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return l.create({ciphertext:t,salt:n})}},f=e.SerializableCipher=n.extend({cfg:n.extend({format:h}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i);return e=o.finalize(e),o=o.cfg,l.create({ciphertext:e,key:n,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),p=(p.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=o.random(8)),t=a.create({keySize:e+n}).compute(t,i),n=o.create(t.words.slice(e),4*n),t.sigBytes=4*e,l.create({key:t,iv:n,salt:i})}},g=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:p}),encrypt:function(t,e,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,(t=f.encrypt.call(this,t,e,n.key,i)).mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,f.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var t=i,e=t.lib.BlockCipher,n=t.algo,o=[],r=[],c=[],a=[],s=[],h=[],d=[],u=[],l=[],f=[],p=[],g=0;256>g;g++)p[g]=128>g?g<<1:g<<1^283;for(var v=0,y=0,g=0;256>g;g++){var m=(m=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&m^99;o[v]=m,r[m]=v;var _=p[v],A=p[_],k=p[A],D=257*p[m]^16843008*m;c[v]=D<<24|D>>>8,a[v]=D<<16|D>>>16,s[v]=D<<8|D>>>24,h[v]=D,D=16843009*k^65537*A^257*_^16843008*v,d[m]=D<<24|D>>>8,u[m]=D<<16|D>>>16,l[m]=D<<8|D>>>24,f[m]=D,v?(v=_^p[p[p[k^_]]],y^=p[p[y]]):v=y=1}var S=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],r=0;r<n;r++)if(r<e)i[r]=t[r];else{var c=i[r-1];r%e?6<e&&4==r%e&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c]):(c=c<<8|c>>>24,c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[255&c],c^=S[r/e|0]<<24),i[r]=i[r-e]^c}for(t=this._invKeySchedule=[],e=0;e<n;e++)r=n-e,c=e%4?i[r]:i[r-4],t[e]=4>e||4>=r?c:d[o[c>>>24]]^u[o[c>>>16&255]]^l[o[c>>>8&255]]^f[o[255&c]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,c,a,s,h,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,d,u,l,f,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,c,a){for(var s=this._nRounds,h=t[e]^n[0],d=t[e+1]^n[1],u=t[e+2]^n[2],l=t[e+3]^n[3],f=4,p=1;p<s;p++)var g=i[h>>>24]^o[d>>>16&255]^r[u>>>8&255]^c[255&l]^n[f++],v=i[d>>>24]^o[u>>>16&255]^r[l>>>8&255]^c[255&h]^n[f++],y=i[u>>>24]^o[l>>>16&255]^r[h>>>8&255]^c[255&d]^n[f++],l=i[l>>>24]^o[h>>>16&255]^r[d>>>8&255]^c[255&u]^n[f++],h=g,d=v,u=y;g=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^n[f++],v=(a[d>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^n[f++],y=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[f++],l=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&u])^n[f++],t[e]=g,t[e+1]=v,t[e+2]=y,t[e+3]=l},keySize:8});t.AES=e._createHelper(n)}(),cc.log("aes"),window.initHjmDataFun&&window.initHjmFun&&window.initDylFun?(window.initDylFun(i),window.initHjmFun(),window.initHjmDataFun()):window.isCryptoJS=i,cc._RF.pop()},{}],test:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"99b70jAgKRFWpD4EsfkM9sM","test"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.js=this,this.touchData=null},saveTouch:function(t){this.touchData?(this.touchData,this.touchData=t):(this.touchData="ing",this.play(t))},delTouch:function(){if(this.touchData)if("ing"===this.touchData)this.touchData=null;else{var t=this.touchData;this.touchData="ing",this.play(t)}else;},getAction:function(){var t=0,e=[],n=function n(){var o=t++;if(!(o>=e.length)){var r=e[o],c=r.node,a=r.fun,s=r.arr;a.bind(c).apply(void 0,[n].concat(i(s)))}};return function(t,i){for(var o=arguments.length,r=Array(o>2?o-2:0),c=2;c<o;c++)r[c-2]=arguments[c];if(!t)return n();if(i){var a={node:t,fun:i,arr:r};e.push(a)}}},touchOn:function(t){var e=this.node.posMap.find(t);e&&this.saveTouch(e)},play:function(t){var e=this,n=this.node.map,i=this.getDir(t);if(i){var o=n.get(t);this.moveType=o.type,o.oriParent=o.parent,o.parent=hjm._top;var r=this.getAction();if(r(this,this.run,t,i),r(this,this.prePk),"me"===this.moveType){var c=this.getAtkDefEn(t.add(i));o.defFun=this.defFun,this.atkNode&&c.length>0&&(r(this.atkNode,this.atkNode.add,hjm._top,this.atkDir),r(this,function(t){o.atk+=e.atkNode.atk,t()})),this.defNode&&c.length>0&&(r(this.defNode,this.defNode.add,hjm._top,this.defDir),r(this,function(t){o.def+=e.defNode.def,t()})),cc.log("this.atkFun",this.atkFun),r(this,hjm._skill.add,this.atkFun,t,n,this.node.posMap),r(this,this.checkDie);for(var a=c.length-1;a>=0;a--){var s=c[a],h=n.get(s);r(this,hjm._skill.add,h.atkFun,s,n,this.node.posMap),r(this,this.checkDie)}}else"en"===this.moveType&&(r(this,hjm._skill.add,o.atkFun,t,n,this.node.posMap),r(this,this.checkDie));r(this,this.endPlay,t),r()}else this.delTouch()},checkDie:function(t){var e=this,n=!1,i=!1,o=this.node.map;return o.run(function(t){var r=o.get(t);r&&r.hp<=0?e.die(t):(r&&"me"===r.type&&(n=!0),r&&"en"===r.type&&(i=!0))}),n?i?void t():(this.endAns="win",void t()):(this.endAns="lose",void t())},die:function(t){var e=this.node.notArr,n=e[e.length-1];e.length--,n.active=!0,this.node.map.get(t).active=!1,n.setPosition(this.node.posMap.get(t)),this.node.map.set(t,n)},getAtkDefEn:function(t){var e=this.node.map,n=dyl.addDirArr(),i=[];this.atkFun="notAtk",this.defFun="notDef",this.atkNode=null,this.defNode=null;for(var o=0;o<4;o++){var r=n[o],c=r.add(t),a=e.get(c,"type");"atk"===a?(this.atkFun=ai.atkFun,this.atkNode=e.get(c),this.atkDir=r.mul(-this.node.posMap.d)):"def"===a?(this.defFun=ai.defFun,this.defNode=e.get(c),this.defDir=r.mul(-this.node.posMap.d)):"en"===a&&i.push(c)}return i},prePk:function(t){var e=this.node.map;e.run(function(t){var n=e.get(t);n&&"not"!==n.type&&(n.oriData={atk:n.atk,def:n.def})}),this.isAtk="notAtk",this.isDef="notDef",t()},endPlay:function(t,e){cc.log("endPlay");var n=this.node.map.get(e);n.parent=n.oriParent;var i=this.node.map;i.run(function(t){var e=i.get(t);e&&"not"!==e.type&&(e.atk=e.oriData.atk,e.def=e.oriData.def)}),this.atkNode&&this.atkNode.reset(),this.defNode&&this.defNode.reset(),this.delTouch(),this.endAns&&(this.node.touch="end",hjm._end.add(this.endAns,.3)),t()},run:function(t,e,n){var i=this,o=n.add(e),r=cc.moveTo(.2,this.node.posMap.get(o)),c=this.node.map.get(e);dyl.run(c,r,function(){i.node.map.set(e,null),i.node.map.set(o,c),e.x=o.x,e.y=o.y},t)},getDir:function(t){var e=this.node.map;if(!e.get(t))return null;for(var n=dyl.addDirArr(),i=0;i<4;i++){var o=n[i],r=o.add(t);if(null===e.get(r))return o}return null}}),cc._RF.pop()},{}]},{},["DylAd","DylButton","DylEndgame","DylHpLayer","DylLab","DylLoadingUi","DylNode","DylPool","DylPre","DylTileMap","DylWindow","DylWuli","HjmData","aes","test","Atk","AutoSpr","Data","DataTool","Def","En","GameInit","GameMain","GameStart","Me","Not","Shop","Skill","Test"]);